BEGIN;
CREATE TABLE IF NOT EXISTS public.colors
(
    id bigint NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 9223372036854775807 CACHE 1 ),
    color_name character varying(255) COLLATE pg_catalog."default" NOT NULL,
    CONSTRAINT colors_pkey PRIMARY KEY (id)
);
CREATE TABLE IF NOT EXISTS public.customers
(
    id bigint NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 9223372036854775807 CACHE 1 ),
    contact_info character varying(255) COLLATE pg_catalog."default" NOT NULL,
    first_name character varying(255) COLLATE pg_catalog."default" NOT NULL,
    last_name character varying(255) COLLATE pg_catalog."default" NOT NULL,
    CONSTRAINT customers_pkey PRIMARY KEY (id)
);
CREATE TABLE IF NOT EXISTS public.deliveries
(
    delivery_date date NOT NULL,
    quantity integer NOT NULL,
    id bigint NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 9223372036854775807 CACHE 1 ),
    CONSTRAINT deliveries_pkey PRIMARY KEY (id)
);
CREATE TABLE IF NOT EXISTS public.deliveries_products
(
    delivery_model_id bigint NOT NULL,
    products_id bigint NOT NULL
);
CREATE TABLE IF NOT EXISTS public.deliveries_suppliers
(
    delivery_model_id bigint NOT NULL,
    suppliers_id bigint NOT NULL
);
CREATE TABLE IF NOT EXISTS public.orders
(
    order_date date NOT NULL,
    customer_id bigint NOT NULL,
    id bigint NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 9223372036854775807 CACHE 1 ),
    status character varying(255) COLLATE pg_catalog."default" NOT NULL,
    CONSTRAINT orders_pkey PRIMARY KEY (id)
);
CREATE TABLE IF NOT EXISTS public.orders_products
(
    order_model_id bigint NOT NULL,
    products_id bigint NOT NULL
);
CREATE TABLE IF NOT EXISTS public.product_placements
(
    quantity integer NOT NULL,
    id bigint NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 9223372036854775807 CACHE 1 ),
    product_id bigint NOT NULL,
    storage_cell_id bigint NOT NULL,
    CONSTRAINT product_placements_pkey PRIMARY KEY (id)
);
CREATE TABLE IF NOT EXISTS public.products
(
    price double precision NOT NULL,
    quantity integer NOT NULL,
    color_id bigint NOT NULL,
    id bigint NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 9223372036854775807 CACHE 1 ),
    description character varying(255) COLLATE pg_catalog."default" NOT NULL,
    name character varying(255) COLLATE pg_catalog."default" NOT NULL,
    CONSTRAINT products_pkey PRIMARY KEY (id)
);
CREATE TABLE IF NOT EXISTS public.storage_cells
(
    cell_number integer NOT NULL,
    id bigint NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 9223372036854775807 CACHE 1 ),
    location character varying(255) COLLATE pg_catalog."default" NOT NULL,
    CONSTRAINT storage_cells_pkey PRIMARY KEY (id)
);
CREATE TABLE IF NOT EXISTS public.suppliers
(
    id bigint NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 9223372036854775807 CACHE 1 ),
    address character varying(255) COLLATE pg_catalog."default" NOT NULL,
    contact_info character varying(255) COLLATE pg_catalog."default" NOT NULL,
    name character varying(255) COLLATE pg_catalog."default" NOT NULL,
    CONSTRAINT suppliers_pkey PRIMARY KEY (id)
);
ALTER TABLE IF EXISTS public.deliveries_products
    ADD CONSTRAINT fk9ef4255m6i8xhri35phawjyid FOREIGN KEY (delivery_model_id)
    REFERENCES public.deliveries (id) MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION;
ALTER TABLE IF EXISTS public.deliveries_products
    ADD CONSTRAINT fkdsnjrljj9vuqd6kg2a48kgat2 FOREIGN KEY (products_id)
    REFERENCES public.products (id) MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION;
ALTER TABLE IF EXISTS public.deliveries_suppliers
    ADD CONSTRAINT fk94m4l08n94e6m7fqfvc6kghlg FOREIGN KEY (delivery_model_id)
    REFERENCES public.deliveries (id) MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION;
ALTER TABLE IF EXISTS public.deliveries_suppliers
    ADD CONSTRAINT fkd2v68we02ae9swyl336nguoi FOREIGN KEY (suppliers_id)
    REFERENCES public.suppliers (id) MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION;
ALTER TABLE IF EXISTS public.orders
    ADD CONSTRAINT fkpxtb8awmi0dk6smoh2vp1litg FOREIGN KEY (customer_id)
    REFERENCES public.customers (id) MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION;
ALTER TABLE IF EXISTS public.orders_products
    ADD CONSTRAINT fkn4pmjc2a7pi2wu6r62hju0w8e FOREIGN KEY (order_model_id)
    REFERENCES public.orders (id) MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION;
ALTER TABLE IF EXISTS public.orders_products
    ADD CONSTRAINT fkqgxvu9mvqx0bv2ew776laoqvv FOREIGN KEY (products_id)
    REFERENCES public.products (id) MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION;
ALTER TABLE IF EXISTS public.product_placements
    ADD CONSTRAINT fk2dc1sr72fa70m0au2vbojch04 FOREIGN KEY (storage_cell_id)
    REFERENCES public.storage_cells (id) MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION;
ALTER TABLE IF EXISTS public.product_placements
    ADD CONSTRAINT fkt2qwpjwlea14jtneu745fdkf5 FOREIGN KEY (product_id)
    REFERENCES public.products (id) MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION;
ALTER TABLE IF EXISTS public.products
    ADD CONSTRAINT fkebociq5k3b2tkcxh3q5dg4eed FOREIGN KEY (color_id)
    REFERENCES public.colors (id) MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION;
END;
